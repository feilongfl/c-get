language: go
sudo: false
dist: trusty
osx_image: xcode8.3
go: 1.11.x

os:
  - linux

cache:
  directories:
    - node_modules

before_script:
  - go get github.com/sirupsen/logrus
  - go get gopkg.in/cheggaaa/pb.v2
  - go get github.com/PuerkitoBio/goquery
  - go get github.com/robertkrimen/otto
  - go get github.com/urfave/cli
  - go get github.com/konsorten/go-windows-terminal-sequences || true

script:
  - sh ./build.sh

deploy:
  provider: releases
  api_key:
    secure: SVka7J99K5/DGL8LVEEnMqX5vIAVw6/bUDJbC41TdKASfWR3Huy97I8xkwiJ947b2eGIlmwVJLR9GD6akeVaUUvpTKr0PXAm7nMdFrkfAaN5ovruqrcnjIYQ/Y0u3yj2JESAuQIpR4ggJ9xWu1OwVfDpDfIFCsLlAKMyok+Bc5/J3SCnAfly0X61e+rs+223pc8GW3Dvaqp/cMo5OiCfhebvVMmXIAENjvKYdciTnxjz5DRzsBDwzSZW/mRn96wgdroGOuoBYUll8EOoHD/yPCbmrRZcvk/DCvRojvwMmOvP7g38DcIbmvYr04MKnHyfvkAWNZNR0k2k5IIe+b2j7HPHqv6g6LN2nysarjW0kA+EzMq9R8lyaLwY1umzs3iavc/BQBVYggP8ItN4cO1gAfefm2dB8Wt9cH7Sr3OJpvQPNDMS1RNhjl0Xo9fR5uLy0BN7n31f3OcChfyOpsM0zFUZGvL7WrxMtABH6lG9DuCzvXvLaThsZQAXNcZyzrwdQMK2YVd//WUuOSiLwq207fa2hadV6q+PpEsX4M1ugOB4Z7FyQ0Se9kzYPgXKrfdtOvbt2yeLYUpUBW6qh+rQ7JMhRG0xK9x9MYZdmf096+0HqC+CVM4/zE0+dpnc8fagL44Wfrs825kUI7sBpgKp6cJQNGSlrZCCda/sJbmddQo=
  file:
    - "c-get-linux"
    - "c-get-mac"
    - "c-get-win.exe"
  skip_cleanup: true
  on:
    repo: feilongfl/c-get
    branch:
      - master
    tags: true
